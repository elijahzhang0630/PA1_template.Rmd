---
title: "Regression Model Course Project"
author: "Shengbai Zhang"
date: "6/9/2021"
output:
  pdf_document: default
  word_document: default
  html_document:
    df_print: paged
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


##Executive Summary
In this study, we are trying to integrate the relationship between transmission(either automatic or manual) and miles per gallon. Our focus is on whether automatic or manual transmission is better for mpg, and on quantifying the mpg difference between automatic and manual transmission. Our analysis shows that automatic transmission is better for mpg.

##Data Analysis
First we take a look at the data itself
```{r}
data("mtcars")
View("mtcars")
```
To have an intuition on relationship between mpg and transmission, we make a plot over it
```{r}
mtcars$am=as.factor(mtcars$am)
plot(mtcars$am,mtcars$mpg)
```
The plot clearly show that the cars with automatic transmission have a significantly higher mpg than those with manual transmission

Then we tried to quantify the relationship between mpg and am. First we need to find a model.To get started, we put mpg as outcomes and the only regressor am.
```{r}
fit1<-lm(mpg~am,mtcars)
summary(fit1)
```
In this case the p value is pretty low and we are satisfied with it, but r^2 is not very satisfying. We try to put all regressors into the model
```{r}
fit2<-lm(mpg~.,mtcars)
summary(fit2)
```
In this case, none of coefficients of variables has a satisfying p value, which means they are not different from 0. But the r^2 goes up a lot.

And we try to use r function step to find the best fit.
```{r}
fit3<-step(fit2)
summary(fit3)
```
In this case, the best model generated is quit okay with our expectation and we will use this model with regressor am, qsec, and wt for further analysis
```{r}
fit3<-lm(mpg~am+qsec+wt,mtcars)
plot(fit3)
```
##Conclusion
Based on all of our analysis, we could clearly state that the automatic transmission is better for mpg in all models.
But the to quantify the difference of mpg between automatic transmission and manual transmission, it is hard to get a clear answer due to the limit of our data. The best estimate we have is from fit3, which provides the coefficents of am to be 2.936 mpg for automatic transmission over manual transmission.


